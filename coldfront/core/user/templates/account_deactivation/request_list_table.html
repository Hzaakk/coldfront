<table class="table table-sm">
  <thead>
  <tr>
    <th scope="col">
      #
      <a href="?order_by=id&direction=asc&{{filter_parameters}}"><i class="fas fa-sort-up"></i></a>
      <a href="?order_by=id&direction=des&{{filter_parameters}}"><i class="fas fa-sort-down"></i></a>
    </th>
    <th scope="col">
      User
      <a href="?order_by=user__username&direction=asc&{{filter_parameters}}"><i class="fas fa-sort-up"></i></a>
      <a href="?order_by=user__username&direction=des&{{filter_parameters}}"><i class="fas fa-sort-down"></i></a>
    </th>
    <th scope="col">
      Date Requested/Modified
      <a href="?order_by=modified&direction=asc&{{filter_parameters}}"><i class="fas fa-sort-up"></i></a>
      <a href="?order_by=modified&direction=des&{{filter_parameters}}"><i class="fas fa-sort-down"></i></a>
    </th>
    <th scope="col">
      Status
    </th>
    <th scope="col">
      Reason
    </th>
    {% if user.is_superuser and actions_visible %}
      <th scope="col">
        Actions
      </th>
    {% endif %}
  </tr>
  </thead>
  <tbody>
  {% for request in queryset %}
    <tr>
      <td>{{ request.pk }}</td>
      <td><a href="{% url 'user-profile' request.user.username %}">{{ request.user.username }}</a></td>
      <td>{{ request.created|date:"M. d, Y" }}</td>
      <td>{{ request.reason.name }}</td>
      {% with status=request.status.name %}
        <td>
          {% if status in "Queued,Ready,Processing" %}
            <span class="badge badge-warning">{{ status }}</span>
          {% elif "Complete" in status %}
            <span class="badge badge-success">{{ status }}</span>
          {% elif "Cancelled" in status %}
            <span class="badge badge-danger">{{ status }}</span>
          {% endif %}
        </td>
        {% if user.is_superuser and actions_visible %}
          <td class="text-nowrap">
            <a href="{% url 'account-deactivation-request-cancel' request.pk %}" class="btn btn-danger mr-1">
              Cancel
            </a>
          </td>

        {% endif %}
      {% endwith %}

    </tr>
  {% endfor %}
  </tbody>
</table>

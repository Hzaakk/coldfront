{% extends "common/base.html" %} {% load common_tags %} {% block content %}

<div class="row">
  <div class="col-lg-12">
    <h2>Request Hub</h2>
    <hr>

    <p>Below are all your active requests. To view your completed requests, click to view completed requests in the appropriate section</p>
  </div>
</div>


  {% with num=0 title='Cluster Account Requests' num_active=num_active_cluster_account_requests list_template='request_hub/cluster_account_list.html' active_queryset=cluster_account_list_active complete_queryset=cluster_account_list_complete button_path='allocation-cluster-account-request-list' button_text='Go To Cluster Account Requests Main Page' %}
    {% include 'request_hub/request_section.html' %}
  {% endwith %}

  {% with num=2 title='Project Removal Requests' num_active=num_removal_request_active list_template='request_hub/removal_request_list.html' active_queryset=removal_request_active complete_queryset=removal_request_complete button_path='project-removal-request-list' button_text='Go To Project Removal Requests Main Page' %}
    {% include 'request_hub/request_section.html' %}
  {% endwith %}

  <script>
  {# maintains the scroll position when clicking through pagination pages #}
      document.addEventListener("DOMContentLoaded", function(event) {
          var scrollpos = localStorage.getItem('scrollpos');
          if (scrollpos) window.scrollTo(0, scrollpos);
      });

      window.onbeforeunload = function(e) {
          localStorage.setItem('scrollpos', window.scrollY);
      };
  </script>

{% endblock %}
